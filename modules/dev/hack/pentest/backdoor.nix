{
  lib,
  config,
  pkgs,
  inputs,
  ...
}: let
  hackLib = import (inputs.self + "/modules/dev/hack/lib.nix") {inherit lib config;};
  packages = hackLib.filterPackages [
    pkgs.httptunnel # tunnel arbitrary traffic over HTTP
    pkgs.iodine # DNS tunnel for situations with only DNS egress
    pkgs.miredo # Teredo IPv6 tunnel client/server
    pkgs.udptunnel # wrap TCP over UDP to bypass filters
    pkgs.pwnat # NAT traversal using ICMP/UDP tricks
  ];
in {
  config = lib.mkIf hackLib.enabled {
    environment.systemPackages = lib.mkAfter packages;
  };
}
