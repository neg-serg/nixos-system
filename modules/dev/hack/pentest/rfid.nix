{
  lib,
  config,
  pkgs,
  inputs,
  ...
}: let
  hackLib = import (inputs.self + "/modules/dev/hack/lib.nix") {inherit lib config;};
  packages = hackLib.filterPackages [
    pkgs.libfreefare # MIFARE Classic/DesFire access library
    pkgs.libnfc # core NFC stack for proxmark/USB readers
    pkgs.mfcuk # MIFARE Classic offline key recovery
    pkgs.mfoc # MIFARE Classic card dumper
    pkgs.rfdump # analyze RFID tags (ISO 14443)
  ];
in {
  config = lib.mkIf hackLib.enabled {
    environment.systemPackages = lib.mkAfter packages;
  };
}
