# Vars
$terminal = kitty --class term
$wallpaper = swww-daemon
$clipboard_manager = zsh -c 'pkill "wl-paste --watch cliphist store"; wl-paste --watch cliphist store'
$clipboard_persistence = wl-clip-persist --clipboard regular
## hyprpolkitagent is now managed by systemd (graphical-session target)

# Exec
exec = ~/.local/bin/unlock

# Exec once
## Notify UWSM that compositor has started (enables uwsm stop/start)
exec-once = uwsm finalize
exec-once = sh -c "/run/current-system/sw/bin/systemctl --user import-environment WAYLAND_DISPLAY HYPRLAND_INSTANCE_SIGNATURE XDG_CURRENT_DESKTOP DISPLAY && /run/current-system/sw/bin/systemctl --user try-restart xdg-desktop-portal-hyprland.service"
exec-once = $wallpaper
# With prewarm removed, start essential apps on session start
exec-once = $terminal
exec-once = $clipboard_persistence
exec-once = $clipboard_manager
## GUI session apps moved from systemd to Hypr exec-once
# Nicotine+ (Soulseek client)
exec-once = nicotine
# Vicinae server under systemd user session
exec-once = systemctl --user start --no-block vicinae.service
# Hypridle daemon
# exec-once = hypridle
# Pyprland daemon
